import pandas as pd
import pytest


@pytest.fixture
def df_one_transaction():
    info = [
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "01.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -3000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -3000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Линзомат ТЦ Юность",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 3000.0,
        }
    ]
    return pd.DataFrame(info)


@pytest.fixture
def df_5_transactions():
    data = [
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "01.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -3000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -3000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Линзомат ТЦ Юность",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 3000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "02.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2500.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2500.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Супермаркеты",
            "MCC": None,
            "Описание": "Лента",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2500.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "03.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Различные товары",
            "MCC": None,
            "Описание": "Ozon.ru",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "04.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -1000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -1000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "ЖКХ",
            "MCC": None,
            "Описание": "ЖКУ Квартира",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 1000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "05.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -500.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -500.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Бонусы",
            "MCC": None,
            "Описание": "Кешбэк за обычные покупки",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 500.0,
        },
    ]
    return pd.DataFrame(data)


@pytest.fixture
def top_5_transactions():
    return [
        {"date": "01.01.2018", "amount": -3000.00, "category": "Переводы", "description": "Линзомат ТЦ Юность"},
        {"date": "02.01.2018", "amount": -2500.00, "category": "Супермаркеты", "description": "Лента"},
        {"date": "03.01.2018", "amount": -2000.00, "category": "Различные товары", "description": "Ozon.ru"},
        {"date": "04.01.2018", "amount": -1000.00, "category": "ЖКХ", "description": "ЖКУ Квартира"},
        {"date": "05.01.2018", "amount": -500.00, "category": "Бонусы", "description": "Кешбэк за обычные покупки"},
    ]


@pytest.fixture
def individual_transactions():
    data = [
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "01.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -3000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -3000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Волков А.",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 3000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "02.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2500.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2500.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Супермаркеты",
            "MCC": None,
            "Описание": "Лента",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2500.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "03.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Иванов О.",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "04.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -1000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -1000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "ЖКХ",
            "MCC": None,
            "Описание": "ЖКУ Квартира",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 1000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "05.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -500.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -500.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Бонусы",
            "MCC": None,
            "Описание": "Кешбэк за обычные покупки",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 500.0,
        },
    ]
    return pd.DataFrame(data)


@pytest.fixture
def list_individual_transaction():
    return [
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "01.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -3000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -3000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Волков А.",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 3000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "03.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Иванов О.",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2000.0,
        },
    ]


@pytest.fixture
def df_5_transactions_for_report():
    data = [
        {
            "Дата операции": "01.10.2018 12:49:53",
            "Дата платежа": "01.10.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -3000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -3000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Линзомат ТЦ Юность",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 3000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "02.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2500.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2500.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Супермаркеты",
            "MCC": None,
            "Описание": "Лента",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2500.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "03.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Ozon.ru",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "04.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -1000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -1000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "ЖКУ Квартира",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 1000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "05.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -500.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -500.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Бонусы",
            "MCC": None,
            "Описание": "Кешбэк за обычные покупки",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 500.0,
        },
    ]
    return pd.DataFrame(data)


@pytest.fixture
def df_filtered_by_category():
    data = [
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "03.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -2000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -2000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "Ozon.ru",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 2000.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "04.01.2018",
            "Номер карты": "*5678",
            "Статус": "OK",
            "Сумма операции": -1000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -1000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": None,
            "Категория": "Переводы",
            "MCC": None,
            "Описание": "ЖКУ Квартира",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 1000.0,
        },
    ]
    return pd.DataFrame(data)
