# Приложение для анализа банковских операций

## Описание

Приложение для анализа и вывода банковских операций пользователя.

### *Реализованы следующие модули и функции внутри них:*

## Страница "Главная"
1. Модуль **utils.py**:
    + **get_cards_info** - *возвращает список с информацией по картам*
    + **get_top_5_transactions** - *возвращает топ-5 транзакций по сумме перевода*
    + **greeting** - *возвращает приветственное сообщение в зависимости от времени суток*
    + **fetch_currency_rate** - *обращается по API(***api.apilayer.com/fixer***) и возвращает список крусов валют из пользовательских настроек*
    + **fetch_s_p_500_stock** - *обращается по API(***api.marketstack.com***) и возвращает список цен на акции из пользовательских настроек*

2. Модуль **views.py**:
    + **greetings_info** - *используя функциональность модуля utils возвращает словарь с информацией для пользователя*

## Поиск переводов физическим лицам

1. Модуль **services.py**:
    + **individual_transfer_search** - *Фильтрует и возвращает только транзакции относящиеся к категории 'Переводы' и имеющие Фамилию и инициал в описании*


## Траты по категории

1. Модуль **reports.py**:
    + **spending_by_category** - *Позволяет отфильтровать транзакции по описанию за последние 3 месяца с указанной даты*
    + Декоратор **file_writer** - *записывает отфильтрованные транзакции в csv-файл*

    
## Остальные модули

1. Модуль **logger.py**:
   +  **logger_setup** - функция задает логгер который используется в модулях utils, services, reports. 

2. Модуль **main.py**:
   + Соединяет функциональности проекта в единую логику.

### Структура проекта:

Проект использует виртуальное окружение ***Poetry***. Информация о зависимостях проекта
находится в файле ***pyproject.toml***. 

Для более простой установки зависимостей рекомендуется использовать виртуальное окружение
Poetry. 

Чтобы установить зависимости, используйте следующую команду:

```
poetry install
```

### Информация о логировании проекта:

На данный момент реализовано логирование для модулей **utils.py**, **services.py** и **reports.py**.



### Информация о тестировании проекта:

Проект использует ***pytest*** в качестве фреймворка для тестирования.
Для каждого модуля создан отдельный unit-тест с тем же названием.

Информацию о тестировании можно найти в директории ***htmlcov*** в корне проекта.

Для прогонки тестов используйте команду:

```
pytest
```

Для отображения информации о покрытии проекта тестами используйте команду:

```
pytest --cov
```
